{"version":3,"file":"index.js","mappings":"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","sources":["webpack://cars/./src/index.js"],"sourcesContent":["jQuery(document).ready(function($) {\r\n    // Function to get and display cart items\r\n    function displayCartItems() {\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: cart_params.ajax_url,\r\n            data: {\r\n                action: 'get_cart_items',\r\n                nonce: cart_params.nonce,\r\n            },\r\n            success: function(response) {\r\n                $('#cart-offcanvas-body').html(response);\r\n            },\r\n        });\r\n    }\r\n    displayCartItems();\r\n\r\n    // Remove item from cart without fade-out effect\r\n    $('#cart-offcanvas-body').on('click', '.remove_from_cart_button', function(e) {\r\n        e.preventDefault();\r\n\r\n        console.log(\"Clicked Remove Button\");\r\n\r\n        var productId = $(this).data('product-id');\r\n\r\n        // Show overlay\r\n        $.blockUI({ message: null, overlayCSS: { backgroundColor: '#000', opacity: 0.6 } });\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: cart_params.ajax_url,\r\n            data: {\r\n                action: 'remove_from_cart',\r\n                nonce: cart_params.nonce,\r\n                product_id: productId,\r\n            },\r\n            success: function(response) {\r\n                $.unblockUI();\r\n                displayCartItems();\r\n            },\r\n            error: function(response) {\r\n                console.log(response);\r\n            },\r\n        });\r\n    });\r\n});\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    // Your existing JavaScript code here\r\n    jQuery(function ($) {\r\n        $('body').on('click', 'button[name=\"apply_coupon\"]', function () {\r\n            var coupon_code = $('#coupon_code').val();\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: cart_params.ajax_url,\r\n                data: {\r\n                    action: 'apply_coupon',\r\n                    coupon_code: coupon_code,\r\n                },\r\n                success: function (response) {\r\n                    if (response) {\r\n                        location.reload();\r\n                    } else {\r\n                        // Handle coupon application failure.\r\n                        alert('Coupon code could not be applied.');\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    });\r\n});\r\n\r\n\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    var quantityInputs = document.querySelectorAll('.cart-quantity');\r\n    quantityInputs.forEach(function (input) {\r\n        input.addEventListener('change', function () {\r\n            var cartItemKey = input.dataset.cartItemKey;\r\n            var quantity = input.value;\r\n\r\n            console.log('cart_item_key:', cartItemKey);\r\n            console.log('quantity:', quantity);\r\n            // Send AJAX request to update cart\r\n            var data = {\r\n                action: 'update_cart',\r\n                cart_item_key: cartItemKey,\r\n                quantity: quantity,\r\n                security: cart_params.nonce // Use the localized nonce\r\n            };\r\n           \r\n\r\n            jQuery.post(cart_params.ajax_url, data, function (response) {\r\n                if (response.success) {\r\n                    var cartTotals = response.data.cart_totals;\r\n\r\n                    if (cartTotals) {\r\n                        // Update cart totals, discounts, tax, and grand total\r\n                        jQuery('#total_amount').html(cartTotals.cart_total || '');\r\n                        jQuery('#discount_amount').html('-' + (cartTotals.cart_discount || '0.00'));\r\n                        jQuery('#tax-amount').html(cartTotals.cart_tax || '');\r\n                        jQuery('#grand_total').html(cartTotals.cart_total_with_tax || '');\r\n\r\n                        location.reload();\r\n                    } else {\r\n                        console.error('Invalid cart totals data in the AJAX response:', response);\r\n                    }\r\n                } else {\r\n                    console.error('Error in AJAX response:', response);\r\n                }\r\n            }).fail(function (xhr, status, error) {\r\n                console.error('AJAX request failed:', status, error);\r\n            });\r\n        });\r\n    });\r\n});\r\n"],"names":["jQuery","document","ready","$","displayCartItems","ajax","type","url","cart_params","ajax_url","data","action","nonce","success","response","html","on","e","preventDefault","console","log","productId","blockUI","message","overlayCSS","backgroundColor","opacity","product_id","unblockUI","error","addEventListener","coupon_code","val","location","reload","alert","quantityInputs","querySelectorAll","forEach","input","cartItemKey","dataset","quantity","value","cart_item_key","security","post","cartTotals","cart_totals","cart_total","cart_discount","cart_tax","cart_total_with_tax","fail","xhr","status"],"sourceRoot":""}